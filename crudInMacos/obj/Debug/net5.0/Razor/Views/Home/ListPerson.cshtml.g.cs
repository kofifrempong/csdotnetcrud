#pragma checksum "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "069a756f28b2e793b6d8007d19d83569771f5ec5"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Home_ListPerson), @"mvc.1.0.razor-page", @"/Views/Home/ListPerson.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/_ViewImports.cshtml"
using crudInMacos;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/_ViewImports.cshtml"
using crudInMacos.Models;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"069a756f28b2e793b6d8007d19d83569771f5ec5", @"/Views/Home/ListPerson.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"ce7146527391b825f11e14ab50937cd9251c34c1", @"/Views/_ViewImports.cshtml")]
    #nullable restore
    public class Views_Home_ListPerson : global::Microsoft.AspNetCore.Mvc.RazorPages.Page
    #nullable disable
    {
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("// that\'s all  folks .. no DTO  no nhibernate no  angular no vue no whatever lah \n");
#nullable restore
#line 4 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
  
    // wee been typing these before
    var connectionString = configuration.GetSection("ConnectionStrings:DefaultConnection").Value;

    List<PersonModel> personModels = new();

    string error = "";

    // mostly We Prefer ViewBag?.notification but it will confuse new user even tenary not all people used it

    string notification = (ViewBag.notification != null)?ViewBag.notification:"";
   
    try
    {
        PersonRepository personRepository = new();
        personModels = personRepository.Read();
    }
    catch (Exception ex)
    {
        error = ex.Message;
    }

#line default
#line hidden
#nullable disable
            WriteLiteral("\n");
#nullable restore
#line 27 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
 if (error.Length > 0)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div> ");
#nullable restore
#line 29 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
     Write(error);

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\n");
#nullable restore
#line 30 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
}

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
 if (notification.Length > 0)
{

#line default
#line hidden
#nullable disable
            WriteLiteral("    <div class=\"alert alert-info\"> ");
#nullable restore
#line 33 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
                              Write(notification);

#line default
#line hidden
#nullable disable
            WriteLiteral("</div>\n");
#nullable restore
#line 34 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
}

#line default
#line hidden
#nullable disable
            WriteLiteral(@"<table class=""table table-striped"">
    <thead>
        <tr>
            <th>
                <button type=""button"" class=""btn btn-primary"" onclick=""refreshMe()"">Refresh </button>

            </th>
            <th><input type=""text"" id=""name"" placeholder=""Name"" class=""form-control"" /></th>
            <th><input type=""text"" id=""age"" placeholder=""Age"" class=""form-control"" /> </th>
            <th>
                <button type=""button"" class=""btn btn-primary"" onclick=""createRecord()"">Create </button>


            </th>
        </tr>
        <tr>
            <th>#</th>
            <th>Name</th>
            <th>Age</th>
            <th>Command</th>
        </tr>
    </thead>
    <tbody>
");
#nullable restore
#line 58 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
         foreach (var row in personModels)
        {

#line default
#line hidden
#nullable disable
            WriteLiteral("            <tr>\n                <td scope=\"row\"> ");
#nullable restore
#line 61 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
                            Write(row.PersonId);

#line default
#line hidden
#nullable disable
            WriteLiteral(" </td>\n                <td scope=\"row\">\n                    <input type=\"text\"");
            BeginWriteAttribute("id", " id=\"", 1778, "\"", 1801, 2);
#nullable restore
#line 63 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
WriteAttributeValue("", 1783, row.PersonId, 1783, 13, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1796, "-name", 1796, 5, true);
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Name\"");
            BeginWriteAttribute("value", " value=\"", 1821, "\"", 1838, 1);
#nullable restore
#line 63 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
WriteAttributeValue("", 1829, row.Name, 1829, 9, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" class=\"form-control\" />\n                </td>\n                <td scope=\"row\">\n                    <input type=\"text\"");
            BeginWriteAttribute("id", " id=\"", 1957, "\"", 1979, 2);
#nullable restore
#line 66 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
WriteAttributeValue("", 1962, row.PersonId, 1962, 13, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 1975, "-age", 1975, 4, true);
            EndWriteAttribute();
            WriteLiteral(" placeholder=\"Age\" class=\"form-control\"");
            BeginWriteAttribute("value", " value=\"", 2019, "\"", 2035, 1);
#nullable restore
#line 66 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
WriteAttributeValue("", 2027, row.Age, 2027, 8, false);

#line default
#line hidden
#nullable disable
            EndWriteAttribute();
            WriteLiteral(" />\n\n                </td>\n                <td>\n                    <button type=\"button\" class=\"btn btn-warning\"");
            BeginWriteAttribute("onclick", " onclick=\"", 2149, "\"", 2186, 3);
            WriteAttributeValue("", 2159, "updateRecord(", 2159, 13, true);
#nullable restore
#line 70 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
WriteAttributeValue("", 2172, row.PersonId, 2172, 13, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2185, ")", 2185, 1, true);
            EndWriteAttribute();
            WriteLiteral(">Update</button>\n                    <button type=\"button\" class=\"btn btn-danger\"");
            BeginWriteAttribute("onclick", " onclick=\"", 2268, "\"", 2305, 3);
            WriteAttributeValue("", 2278, "deleteRecord(", 2278, 13, true);
#nullable restore
#line 71 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
WriteAttributeValue("", 2291, row.PersonId, 2291, 13, false);

#line default
#line hidden
#nullable disable
            WriteAttributeValue("", 2304, ")", 2304, 1, true);
            EndWriteAttribute();
            WriteLiteral(">Delete</button>\n                </td>\n            </tr>\n");
#nullable restore
#line 74 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
        }

#line default
#line hidden
#nullable disable
            WriteLiteral("    </tbody>\n</table>\n<script>\n    var url = \"https://localhost:5001/api/values\";  // same like those postman address before\n    var home = \"");
#nullable restore
#line 79 "/Users/kofifrempong/csharpcrud/crudInMacos/Views/Home/ListPerson.cshtml"
           Write(Url.RouteUrl(ViewContext.RouteData.Values));

#line default
#line hidden
#nullable disable
            WriteLiteral(@""";
    // you can  just put /Home/PersonModel but if you lazy to copy paste better like this
    function refreshMe() {
        window.location.href = home;
    }
    function createRecord() {
        // since jquery out of the box better use it ? angular ? react ? vue
        // we don't know and don't care much
        $.ajax({
            type: ""post"",
            url: url,
            contentType:""application/x-www-form-urlencoded"",
            data: {
                mode: ""create"",
                name: $(""#name"").val(),
                age:$(""#age"").val()
            }, beforeSend() {
                console.log(""Waiiit waiit"");
            }, success: function (data) {
                if (data.status) {
                    window.location.href = home + ""?notification=createSuccess"";
                }
            }, failure: function (xhr) {
                console.log(xhr.status);
            }
        })
    }
    function updateRecord(personId) {
        $.ajax({
            type: ""post"",
          ");
            WriteLiteral(@"  url: url,
            contentType: ""application/x-www-form-urlencoded"",
            data: {
                mode: ""update"",
                name: $(""#"" + personId + ""-name"").val(),
                age: $(""#"" + personId + ""-age"").val(),
                personId: personId
            }, beforeSend() {
                console.log(""Waiiit waiit"");
            }, success: function (data) {
                if (data.status) {
                    window.location.href = home + ""?notification=updateSuccess"";
                }
            }, failure: function (xhr) {
                console.log(xhr.status);
            }
        })
    }
    function deleteRecord(personId) {

        $.ajax({
            type: ""post"",
            url: url,
            contentType: ""application/x-www-form-urlencoded"",
            data: {
                mode: ""delete"",
                personId: personId
            }, beforeSend() {
                console.log(""Waiiit waiit"");
            }, success: function (data) {
                i");
            WriteLiteral("f (data.status) {\n                    window.location.href = home + \"?notification=deleteSuccess\";\n                }\n            }, failure: function (xhr) {\n                console.log(xhr.status);\n            }\n        })\n    }\n</script>\n");
        }
        #pragma warning restore 1998
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public Microsoft.Extensions.Configuration.IConfiguration configuration { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; } = default!;
        #nullable disable
        #nullable restore
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<Views_Home_ListPerson> Html { get; private set; } = default!;
        #nullable disable
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<Views_Home_ListPerson> ViewData => (global::Microsoft.AspNetCore.Mvc.ViewFeatures.ViewDataDictionary<Views_Home_ListPerson>)PageContext?.ViewData;
        public Views_Home_ListPerson Model => ViewData.Model;
    }
}
#pragma warning restore 1591
